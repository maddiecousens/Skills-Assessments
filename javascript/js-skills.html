<!doctype html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Skills-Javascript</title>
  <style>
    body {
      counter-reset: h3counter;
      font-family: sans-serif;
    }
    input[type=button],
    input[type=submit],
    button {
      padding: 0.5em;
      background-color: powderblue;
      border-radius: 10px;
    }
    fieldset {
      border-color: #ccc;
      box-shadow: 3px 3px 8px #ccc;
      margin: 2em 1em;
    }
    h2 {
      margin-top: 5em;
      font-size: 200%;
    }
    h3 {
      margin-top: 4em;
    }
    h3:before {
      counter-increment: h3counter;
      content: counter(h3counter) ". ";
    }
    .hint {
      border: dashed 1px black;
      margin: 1em 0;
      padding: 1em;
    }
    .hint:before {
      font-style: italic;
      content: "Hint -- hover to reveal";
    }
    .hint > div {
      color: white;
      padding-top: 1em;
    }
    .hint > div:hover {
      color: black;
    }
    .prime-box {
      color: white;
      text-shadow: 2px 2px 3px black;
      border-radius: 50%;
      box-shadow: 3px 3px 10px #666;
      width: 3em;
      padding: 1em 0;
      text-align: center;
      font-size: 200%;
      font-family: sans-serif;
      display: inline-block;
      margin-right: 1em;
    }
  </style>
</head>
<body>

<h1>Skills&mdash;Javascript</h1>
<p>
  For each numbered problem, fill in the corresponding <code>&lt;script&gt;</code> section in the
  source with Javascript to solve the problem.</p>
<p>
  <b>Note:</b> you should only add Javascript; you cannot change the HTML otherwise <b>at all</b>.
</p>

<img src="http://cdn.meme.am/instances/500x/58307737.jpg">






<h2>Plain Javacript</h2>
<p>You may not use jQuery for this section!</p>





<h3>Making an Event Handler</h3>
<p>
  Make this button pop up an alert box in the
  browser window.
</p>

<fieldset>
<input type="button" value="Show Me a Popup!" id="popup-alert-button">
</fieldset>

<script>
  "use strict";
  // Create variable for button element
  var popUpButton = document.getElementById('popup-alert-button');

  // Create event handler
  function popUpAlert(evt) {
    alert("Hello wonderful person!!");
  }

  // Add click event listener to button, calling event handler
  popUpButton.addEventListener('click', popUpAlert);

</script>





<h3>Manipulating the DOM</h3>
<p>Change the word "hello" to "goodbye" when the button is pressed.</p>
<p>(Don't get rid of the italics tag itself, though!)</p>

<fieldset>
  <i id="message-to-change">hello</i>
  <button id="change-hello-to-goodbye-button">Turn <b>Hello</b> Into <b>Goodbye</b></button>
  <!-- Hey, look, that was another way to do a button - what might it be good for? -->
</fieldset>

<script>
  "use strict";

  // Create variable for button
  var helloButton = document.getElementById('change-hello-to-goodbye-button');

  // Event Handler
  function changeHello(evt) {
    // Grab element, adjust inner HTML
    document.getElementById('message-to-change').innerHTML = 'goodbye';
  }
  // Click event listener
  helloButton.addEventListener('click', changeHello)

</script>

<div class="hint">
  <div>
    Don't know or don't remember how to change the text of an element you find in Javascript?
    That's what the <code>console.dir(object)</code> feature is so useful for&mdash;it gives
    you the complete list of properties/methods on an object!
  </div>
</div>





<h3>Preventing Form Submission</h3>
<p>
  Normally, for this form, it submits to <code>some-script</code>. Make it pop up an
  alert box instead.
</p>

<fieldset>
  <form action="some-script" id="prevent-form-submission-form">
    <input type="text" name="favorite-color" id="favorite-color-field">
    <input type="submit" id="prevent-form-submission-button" value="Just an Alert, Please!">
  </form>
</fieldset>

<script>
  "use strict";

  // Create variable for submit button
  var preventButton = document.getElementById('prevent-form-submission-button');

  function preventSubmit(evt) {
    // Stop default behavior
    evt.preventDefault();

    // Grab form input.
    var formInput = document.getElementById('favorite-color-field').value;

    // If input text exists, alert with input text, otherwise dispaly message
    if (formInput) {
      alert(formInput);
    } else {
      alert("No text entered. Hello!");
    }
  }

  // Click event listener
  preventButton.addEventListener('click', preventSubmit);

</script>

<div class="hint">
  <div>
    Did you prevent the form submission by catching the button click?
    What happens if you go into the text field and press ENTER? Is there a way you
    can catch both with only one event listener?
  </div>
</div>







<h3>Reversing a String</h3>
<p>
  There's some incomplete Javascript code below. When the button is pushed, it pops up an
  alert box with a message. Reverse the order of the message, so "Porcupines are cute" would
  become "etuc era senipucroP". You must do this reversal programmatically; you cannot just
  type in the reversed string yourself!
</p>

<fieldset>
  <input type="button" id="reverse-string-button" value="!nottuB">
</fieldset>

<script>
  "use strict";

 function reverseString() {
   var msg = "Porcupines are cute";

   var newMsg = msg.split("").reverse().join("");

  // Could also write like this:
   // var newMsg = "";
   // for (var i = msg.length - 1; i >= 0; i--) {
   //      newMsg += msg[i];
   //  }

   alert(newMsg);
 }

 // Add event listener
 var button = document.getElementById('reverse-string-button');
 button.addEventListener('click', reverseString);
</script>






<h2>jQuery</h2>
<p>You should use jQuery for these parts.</p>
<p>We didn't include jQuery in this document, though&mdash;so your first task is to include it!</p>



<h3>Finding the Button</h3>
<p>
  When you click this button, pop up an alert box. <b>Remember, you cannot change the HTML!</b>
</p>

<fieldset>
  <input type="button" class="tricky-to-find" value="Pop-Up Please!">
</fieldset>

<script src="https://code.jquery.com/jquery.js"></script>
<script>
  "use strict";
  // Event Handler
  function alertPopUp(evt) {
    alert('HELLO THIS IS AN ALERT. ALERT! ALERT!');
  }

  // Add click listener to button
  $('.tricky-to-find').on('click', alertPopUp);
</script>

<div class="hint">
  <div>
    You can find things by class name.
  </div>
</div>





<h3>Down with Cats!</h3>
<p>
  After complaints from Cynthia about our cat-centered curriculum, you now need to change
  the following image of a cat to one of a dog when you double-click on the cat
  (you can Google for any cute dog photo you
  want). Do this in jQuery.
</p>

<fieldset>
  <img src="https://s-media-cache-ak0.pinimg.com/236x/d3/e9/fc/d3e9fc222c9bd0d12e0ff126acf7df00.jpg"
       alt="Adorbz" id="kittenz-rule">
</fieldset>

<script>
  "use strict";
  //Select image element
  var catImage = $('#kittenz-rule')

  // Event Handler
  function downWithCat(evt) {
    catImage.attr('src', 'https://s-media-cache-ak0.pinimg.com/236x/88/bb/f7/88bbf7b15d00a452cec82ef91a3a4f61.jpg')
  }
  // Event Listener
  catImage.on('dblclick', downWithCat)
  
</script>

<div class="hint">
  <div>
    How do you change an attribute with jQuery?
  </div>
</div>





<h3>Slowly Make a Porcupine</h3>
<p>
  After complaints from Joel about the lack of cute porcupines in our exercises,
  you're now tasked with having a cute porcupine appear when the button is pushed.
</p>
<p>However:</p>
<ul>
  <li>There must be a one second pause after the button is pushed before the image appears</li>
  <li>You should use a jQuery appear-via-animation method for this to appear. You can
  try things like <code>fadeIn</code> or <code>slideDown</code>. For extra points, can you
  make this animation itself happen slowly?</li>
</ul>

<fieldset>
  <img src="http://mytrial.typepad.com/.a/6a0147e199a17d970b0153906b3209970b-pi"
      id="cute-porcupine-image" style="display: none">
  <input type="button" id="make-a-porcupine" value="I Want a Porcupine!">
</fieldset>

<script>
  "use strict";

  // Note: I could use fadeIn() but I prefer the toggle so that
  // clicking the button again makes the porcupine dissapear.
  function porcupineToggle() {
    $('#cute-porcupine-image').fadeToggle(3000);
  }

  // Add event listener to button that calls setTimeout which
  // starts a 1 second timer before calling porcupineToggle
  // event handler function
  $('#make-a-porcupine').on('click', function () {setTimeout(porcupineToggle, 1000);});

</script>

<div class="hint">
  <div>
    You can make things happen after a second with <code>setTimeout</code>, a function
    Javascript can always use when inside a browser.
  </div>
</div>

<p>End of Skills Assessment. Read on for advanced problems. :)</p>



<h2>Advanced!</h2>
<p>
  Hey, we know you're smart and becoming a Javascript ninja. So we've given you these
  exercises which are, frankly, really tough. Don't feel bad if you need to practice the
  above a few times first, or need to get some hints or help here. They're trickier and
  definitely take much longer.
</p>
<p>You can either do these with or without jQuery, as you please.</p>
<p>But, really, these are <blink>hard</blink>.</p>


<h3>An Agreeable Form</h3>
<p>
  When the user submits the form below, it should fill in the div to agree with the
  user. So if I say my favorite food is "pretzels," a message should appear in that div
  that says, "I like pretzels, too."
</p>

<fieldset>
  <form action="/oh-no-do-not-go-here" id="agreeable-form">
    What's your favorite food?
    <input type="text" name="favorite-food" required
           id="favorite-food-input">
    <input type="submit" value="I'm Very Agreeable">
  </form>
  <div id="agreeable-text"></div>
</fieldset>

<script>
  "use strict";

  // Event Handler
  function agreeMessage(evt) {
    // Prevent form submission
    evt.preventDefault();
    // Compose agreeing text with user input
    var agreeText = "I love " + $('#favorite-food-input').val() + ", too!";
    // Add agreeText to HTML
    $('#agreeable-text').html(agreeText);
  }
  // Add click listener to agreeable button
  $('input[value="I\'m Very Agreeable"]').on('click', agreeMessage);


</script>

<div class="hint">
  <div>
    Remember how to find the current value in an input field
    using jQuery? If not, try using <code>console.dir(object)</code> or StackOverflow!
  </div>
</div>


<h3>Number-Guessing Game</h3>
<p>
  Make the classic "guess-a-number-between-1-and-100" in Javascript.
</p>
<p>
  The user starts the game by clicking the button.
  This should then guess a random integer from 1 to 100 (StackOverflow is probably helpful here!).
  It should then keep popping up a Javascript <code>prompt</code> box to ask for a number.
  If you guess too high or too low, pop up an alert to say so. When the user gets the right
  number, congratulate them in an alert box, and then stop prompting them for numbers (well,
  at least until they press the button again!)
</p>

<fieldset>
  <input type="button" id="play-guessing-game" value="Play!">
</fieldset>

<script>
  "use strict";

  function guessingGame(evt) {
    // Generate random number between 1 and 100
    var randomNumber = Math.floor(Math.random() * 100) + 1;
    // Set variable condition for while loop
    var continuePlaying = true

    // Prompt user for first guess
      var guess = prompt("I have chosen a random number between 1 and 100, please take a guess!");

    while (continuePlaying) {
      // Prompt for new guess if too high or too low. Exit if correct
      if (guess > randomNumber) {
        guess = prompt("Too high, please guess again.");
      } else if (guess < randomNumber) {
        guess = prompt("Too low, please guess again.");
      } else {
        continuePlaying = false
        alert("Congrats! That's correct!")
      }
    }
  }
  
  // Add click event listener to guessing game button
  $('#play-guessing-game').on('click', guessingGame)

</script>

<div class="hint">
  <div>
    How do you turn the string "42" into the integer 42 in Javascript? I'll bet
    StackOverflow knows!
  </div>
</div>






<h3>Less Annoying Number-Guessing Game</h3>
<p>
  That was fun! But, wow, all those alerts and prompts are annoying, aren't they?
</p>
<p>
  Write a new version that uses a simple form field for the number, and outputs the
  too-high/too-low/just-right into the div next to it.
</p>
<p>
  The game should start when they press the play button. Until they guess the right number,
  though, that button should no longer work again. Similarly, the numbered-guessed field
  and try-this-number button shouldn't be enabled if they're not playing. Tricky!
</p>

<fieldset>
  <input type="button" id="play-guessing-game-2" value="Play!">
  <form action="do-not-go-here" id="guessing-game-2-form">
    <input id="number-guessed" name="number-guessed" type="number" placeholder="Guess" disabled>
    <!-- hey! go read MDN about the "number" input type. Cool, huh? -->
    <input type="submit" id="try-this-number" value="Guess" disabled>
    <div id="number-guessing-msg"></div>
  </form>
</fieldset>

<script>
  "use strict";


  

  // Create variables 'Play' button, 'Guess' button, guess box, display text
  // box and initilaze guess and randomNumber variables

  var playButton = $('#play-guessing-game-2');
  var guessButton = $('#try-this-number');
  var guessBox = $('#number-guessed');
  var displayText = $('#number-guessing-msg');
  var guess, randomNumber;

  // Event Handler - Guessing Game
  function guessingGame(evt) {
    // Prevent default behavior
    evt.preventDefault();
    // Retrieve guess from input field
    guess = $('#number-guessed').val();

    // Display whether guess is too high or too low.
    if (guess > randomNumber) {
        displayText.html("Too high, please guess again.");
      } else if (guess < randomNumber) {
        displayText.html("Too low, please guess again.");
      } else {
        // If guess is correct, clear field, disable guessing features 
        //  and enable Play button.
        displayText.html("Correct! Click 'Play' to play again.")
        guessButton.prop('disabled', true);
        playButton.prop('disabled', false);
        guessBox.val("");
        guessBox.prop('disabled', true);

      }
  }

  // Event Handler - Enable Guessing Game
  function enableGame(evt) {

    // Enable guessing features, disable Play button
    guessButton.prop('disabled', false);
    guessBox.prop('disabled', false);
    playButton.prop('disabled', true);

    // Display instructions
    displayText.html("Guess a number between 1 and 100 :)")

    // Generate random number btwn 1 and 100
    randomNumber = (Math.floor(Math.random() * 100) + 1);

    // Add event listener to guessButton      
    guessButton.on('click', guessingGame);
    }

  // Add click listener to Play button that calls enableGame event handler
  playButton.on('click', enableGame);

</script>




<h3>Five Colored Primes</h3>
<p>
  When the button is pushed, five new boxes should appear in the bordered area. Each box should contain the next prime number, starting with 2. (A prime number is an integer greater than 1 which cannot be divided evenly by any other number other than itself and 1. For example, 11 is prime (you can only divide it by 1 and 11), while 12 is not (you can divide it evenly by 2, 3, 4, and 6, along with 1 and 12).
</p>
<p>
  Each box should have a different color, chosen from the list of colors in the Javascript. You can re-use our <code>prime-box</code> class to make your numbers look like ours, if you want (or feel free to experiment with other CSS).
</p>
<p>The result should look like:</p>
<div>
  <div class="prime-box" style="background-color: orange">2</div>
  <div class="prime-box" style="background-color: midnightblue">3</div>
  <div class="prime-box" style="background-color: darkgoldenrod">5</div>
  <div class="prime-box" style="background-color: green">7</div>
  <div class="prime-box" style="background-color: purple">11</div>
</div>
<p>You must calculate the prime numbers; you cannot just hard-code them.</p>

<fieldset>
  <div id="prime-box-area"><!-- Your prime boxes should appear here! --></div>
  <input type="button" id="make-prime-boxes" value="Button">
</fieldset>

<script>
  "use strict";

    // Create variables for the button and div to fill, initialize the number of
    // button clicks to 0, create variable 'lastPrime'
    var primeButton = $('#make-prime-boxes');
    var primeBoxArea = $('#prime-box-area');
    var buttonClicks = 0;
    var lastPrime;


    // Given a prime number, return the next prime number
    function getNextPrime(lastPrime) {

      // Set the next prime number equal to last prime number
      var nextPrime = lastPrime;
      var notPrime = true;

      // While loop: keep iterating until we find a prime number
      while (notPrime) {
        //Add one to nextPrime, set notPrime to false
        nextPrime++;
        notPrime = false;
        
        for (var i = 2; i <= nextPrime; i++) {
            
            if (nextPrime%i === 0 && i != nextPrime) {
                notPrime = true;
            }
        }
        // If the number is prime, return number
        if (notPrime === false) {
            return nextPrime;
        }    
      }
    }


    // Event Handler - Make Prime Boxes
    function makePrimeBoxes(evt) {

      // If it is the first time click the button, pass the lastPrime as 1
      buttonClicks++;
      if (buttonClicks === 1) {
        lastPrime = 1;
      }

      // Create empty array to hold next 5 prime numbers
      var nextFivePrimes = [];
    
      // Until the array is filled with 5, add the next prime number
      while (nextFivePrimes.length < 5) {
        // Call getNextPrime function, passing the last prime number
        lastPrime = getNextPrime(lastPrime);
        // Append new number to array
        nextFivePrimes.push(lastPrime);
      }
      // Add prime buttons to html
      $('#prime-box-area').html(
        '<div class="prime-box" style="background-color: #FF0000">' 
        + nextFivePrimes[0] + '</div><div class="prime-box" style="background-color: #FF7F00 ">' 
        + nextFivePrimes[1] + '</div><div class="prime-box" style="background-color: #FFFF00">' 
        + nextFivePrimes[2] + '</div><div class="prime-box" style="background-color: #00FF00">' 
        + nextFivePrimes[3] + '</div><div class="prime-box" style="background-color: #0000FF">' 
        + nextFivePrimes[4] + '</div><p>Keep Clicking!! Yay Primes!</p>');
    }

    // Add click event listener to button
    primeButton.on('click', makePrimeBoxes);

</script>


<h3>CSS Stuff</h3>
<p>
  For those of you interested in more intermediate/complex
  CSS, take a look at the CSS we use on this page&mdash;it shows off some
  interesting pseudo-selectors like <code>:before</code> and uses things
  like CSS numbering. Neat stuff.
</p>





<script>
  "use strict";

  // Blink text FTW!

  var blinkies = document.getElementsByTagName("blink");

  function blink() {
    for (var i = 0; i < blinkies.length; i++) {
      var item = blinkies[i];
      if (item.style.color == 'white') {
        item.style.color = 'black';
      } else {
        item.style.color = 'white';
      }
    }
  }
  setInterval(blink, 500);
</script>


<script src="js-skills.js"></script>
</body>
</html>
